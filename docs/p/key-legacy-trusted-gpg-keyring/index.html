<!DOCTYPE html>
<html lang="en" dir="auto">

<head><meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<meta name="robots" content="index, follow">
<title>Key Is Stored in Legacy Trusted.gpg Keyring | Deuts Log</title>
<meta name="keywords" content="linux, ubuntu, debian">
<meta name="description" content="This post addresses the issue of legacy keyrings on fresh installs of Debian or Ubuntu, where an error message warns about keys stored in the deprecated trusted.gpg keyring. The solution is to copy the keyring to the trusted.gpg.d directory and update the system using sudo apt update.">
<meta name="author" content="">
<link rel="canonical" href="https://deuts.org/p/key-legacy-trusted-gpg-keyring/">
<link crossorigin="anonymous" href="/assets/css/stylesheet.3aef92d4c7098e8b70dab13c2b408d36e052d564a95f8f242e58f9786b223409.css" integrity="sha256-Ou&#43;S1McJjotw2rE8K0CNNuBS1WSpX48kLlj5eGsiNAk=" rel="preload stylesheet" as="style">
<link rel="icon" href="https://deuts.org/icons/favicon.ico">
<link rel="icon" type="image/png" sizes="16x16" href="https://deuts.org/icons/favicon-16x16.png">
<link rel="icon" type="image/png" sizes="32x32" href="https://deuts.org/icons/favicon-32x32.png">
<link rel="apple-touch-icon" href="https://deuts.org/icons/apple-touch-icon.png">
<link rel="mask-icon" href="https://deuts.org/icons/apple-touch-icon.png">
<meta name="theme-color" content="#2e2e33">
<meta name="msapplication-TileColor" content="#2e2e33">
<link rel="alternate" hreflang="en" href="https://deuts.org/p/key-legacy-trusted-gpg-keyring/">
<noscript>
    <style>
        #theme-toggle,
        .top-link {
            display: none;
        }

    </style>
</noscript><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0-beta3/css/all.min.css"><meta property="og:url" content="https://deuts.org/p/key-legacy-trusted-gpg-keyring/">
  <meta property="og:site_name" content="Deuts Log">
  <meta property="og:title" content="Key Is Stored in Legacy Trusted.gpg Keyring">
  <meta property="og:description" content="This post addresses the issue of legacy keyrings on fresh installs of Debian or Ubuntu, where an error message warns about keys stored in the deprecated trusted.gpg keyring. The solution is to copy the keyring to the trusted.gpg.d directory and update the system using sudo apt update.">
  <meta property="og:locale" content="en">
  <meta property="og:type" content="article">
    <meta property="article:section" content="posts">
    <meta property="article:published_time" content="2023-08-09T08:21:31+08:00">
    <meta property="article:modified_time" content="2023-08-09T08:21:31+08:00">
    <meta property="article:tag" content="Linux">
    <meta property="article:tag" content="Ubuntu">
    <meta property="article:tag" content="Debian">
<meta name="twitter:card" content="summary">
<meta name="twitter:title" content="Key Is Stored in Legacy Trusted.gpg Keyring">
<meta name="twitter:description" content="This post addresses the issue of legacy keyrings on fresh installs of Debian or Ubuntu, where an error message warns about keys stored in the deprecated trusted.gpg keyring. The solution is to copy the keyring to the trusted.gpg.d directory and update the system using sudo apt update.">

<script type="application/ld+json">
{
  "@context": "https://schema.org",
  "@type": "BlogPosting",
  "headline": "Key Is Stored in Legacy Trusted.gpg Keyring",
  "name": "Key Is Stored in Legacy Trusted.gpg Keyring",
  "description": "This post addresses the issue of legacy keyrings on fresh installs of Debian or Ubuntu, where an error message warns about keys stored in the deprecated trusted.gpg keyring. The solution is to copy the keyring to the trusted.gpg.d directory and update the system using sudo apt update.",
  "keywords": [
    "linux", "ubuntu", "debian"
  ],
  "articleBody": "Have you ever encountered issues with legacy keyrings when running a fresh install of Debian or Ubuntu?\nW: Key is stored in legacy trusted.gpg keyring (/etc/apt/trusted.gpg), see the DEPRECATION section in apt-key(8) for details\nThe Quick Fix cd /etc/apt sudo cp trusted.gpg trusted.gpg.d sudo apt update More info can be read here.\n",
  "wordCount" : "52",
  "inLanguage": "en",
  "datePublished": "2023-08-09T08:21:31+08:00",
  "dateModified": "2023-08-09T08:21:31+08:00",
  "mainEntityOfPage": {
    "@type": "WebPage",
    "@id": "https://deuts.org/p/key-legacy-trusted-gpg-keyring/"
  },
  "publisher": {
    "@type": "Organization",
    "name": "Deuts Log",
    "logo": {
      "@type": "ImageObject",
      "url": "https://deuts.org/icons/favicon.ico"
    }
  }
}
</script>
</head>

<body class=" dark" id="top">

<header class="header">
    <nav class="nav">
        <div class="logo">
            <a href="https://deuts.org/" accesskey="h" title="Deuts Log (Alt + H)">Deuts Log</a>
            <div class="logo-switches">
            </div>
        </div>
        <ul id="menu">
            <li>
                <a href="https://deuts.org/" title="Home">
                    <span>Home</span>
                </a>
            </li>
            <li>
                <a href="https://deuts.org/i/archive/" title="Archive">
                    <span>Archive</span>
                </a>
            </li>
            <li>
                <a href="https://deuts.org/t/" title="Tags List">
                    <span>Tags</span>
                </a>
            </li>
            <li>
                <a href="https://deuts.org/search/" title="Search (Alt &#43; /)" accesskey=/>
                    <span>Search</span>
                </a>
            </li>
        </ul>
    </nav>
</header>
<main class="main">

<article class="post-single">
  <header class="post-header">
    
    <h1 class="post-title entry-hint-parent">
      Key Is Stored in Legacy Trusted.gpg Keyring
    </h1>
    <div class="post-description">
      This post addresses the issue of legacy keyrings on fresh installs of Debian or Ubuntu, where an error message warns about keys stored in the deprecated trusted.gpg keyring. The solution is to copy the keyring to the trusted.gpg.d directory and update the system using sudo apt update.
    </div>
    <div class="post-meta"><span title='2023-08-09 08:21:31 +0800 PST'>August 9, 2023</span>&nbsp;·&nbsp;1 min&nbsp;·&nbsp;52 words&nbsp;|&nbsp;<a href="https://filepath.deuts.org/files/deutslog-site/content/posts/key-legacy-trusted-gpg-keyring/index.md" rel="noopener noreferrer" target="_blank">Edit</a>

</div>
  </header> 
  <div class="post-content"><p>Have you ever encountered issues with legacy keyrings when running a fresh install of Debian or Ubuntu?</p>
<blockquote>
<p>W: Key is stored in legacy trusted.gpg keyring (/etc/apt/trusted.gpg), see the DEPRECATION section in apt-key(8) for details</p>
</blockquote>
<h3 id="the-quick-fix">The Quick Fix<a hidden class="anchor" aria-hidden="true" href="#the-quick-fix">#</a></h3>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-bash" data-lang="bash"><span style="display:flex;"><span>cd /etc/apt
</span></span><span style="display:flex;"><span>sudo cp trusted.gpg trusted.gpg.d
</span></span><span style="display:flex;"><span>sudo apt update
</span></span></code></pre></div><p>More info can be read <a href="https://stackoverflow.com/questions/73570418/w-key-is-stored-in-legacy-trusted-gpg-keyring-etc-apt-trusted-gpg-see-the-d">here</a>.</p>


  </div>

  <footer class="post-footer">
    <ul class="post-tags">
      <li><a href="https://deuts.org/t/linux/">Linux</a></li>
      <li><a href="https://deuts.org/t/ubuntu/">Ubuntu</a></li>
      <li><a href="https://deuts.org/t/debian/">Debian</a></li>
    </ul>
<nav class="paginav">
  <a class="prev" href="https://deuts.org/p/docker-container-size/">
    <span class="title">« Prev</span>
    <br>
    <span>Docker Command to Check the Sizes of your Containers</span>
  </a>
  <a class="next" href="https://deuts.org/p/how-to-rescan-docker-nextcloud-folders/">
    <span class="title">Next »</span>
    <br>
    <span>How to Rescan Your Docker Nextcloud Folders</span>
  </a>
</nav>

  </footer><script src="https://giscus.app/client.js"
        data-repo="deuts/deuts.github.io"
        data-repo-id="MDEwOlJlcG9zaXRvcnk0NDI5MTQ2OA=="
        data-category="Deuts Log Comments"
        data-category-id="DIC_kwDOAqPVjM4CkMDD"
        data-mapping="pathname"
        data-strict="0"
        data-reactions-enabled="1"
        data-emit-metadata="0"
        data-input-position="bottom"
        data-theme="transparent_dark"
        data-lang="en"
        data-loading="lazy"
        crossorigin="anonymous"
        async>
</script>

</article>
    </main>
    
<a href="#top" aria-label="go to top" title="Go to Top (Alt + G)" class="top-link" id="top-link" accesskey="g">
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 12 6" fill="currentColor">
        <path d="M12 6H0l6-6z" />
    </svg>
</a><footer class="footer">
	<span>&copy; 2024 <a href="https://deuts.org/">Deuts Log</a></span>
	
             · 
                <span><a href="/i/about/">About</a></span>
             · 
                <span><a href="/i/contact/">Contact</a></span>
             · 
                <span><a href="/p/index.xml">Feed</a></span>
             · 
                <span><a href="/sitemap.xml">Sitemap</a></span>
            
</footer>

<script>
    let menu = document.getElementById('menu')
    if (menu) {
        menu.scrollLeft = localStorage.getItem("menu-scroll-position");
        menu.onscroll = function () {
            localStorage.setItem("menu-scroll-position", menu.scrollLeft);
        }
    }

    document.querySelectorAll('a[href^="#"]').forEach(anchor => {
        anchor.addEventListener("click", function (e) {
            e.preventDefault();
            var id = this.getAttribute("href").substr(1);
            if (!window.matchMedia('(prefers-reduced-motion: reduce)').matches) {
                document.querySelector(`[id='${decodeURIComponent(id)}']`).scrollIntoView({
                    behavior: "smooth"
                });
            } else {
                document.querySelector(`[id='${decodeURIComponent(id)}']`).scrollIntoView();
            }
            if (id === "top") {
                history.replaceState(null, null, " ");
            } else {
                history.pushState(null, null, `#${id}`);
            }
        });
    });

</script>
<script>
    var mybutton = document.getElementById("top-link");
    window.onscroll = function () {
        if (document.body.scrollTop > 800 || document.documentElement.scrollTop > 800) {
            mybutton.style.visibility = "visible";
            mybutton.style.opacity = "1";
        } else {
            mybutton.style.visibility = "hidden";
            mybutton.style.opacity = "0";
        }
    };

</script>
<script>
    document.querySelectorAll('pre > code').forEach((codeblock) => {
        const container = codeblock.parentNode.parentNode;

        const copybutton = document.createElement('button');
        copybutton.classList.add('copy-code');
        copybutton.innerHTML = 'copy';

        function copyingDone() {
            copybutton.innerHTML = 'copied!';
            setTimeout(() => {
                copybutton.innerHTML = 'copy';
            }, 2000);
        }

        copybutton.addEventListener('click', (cb) => {
            if ('clipboard' in navigator) {
                navigator.clipboard.writeText(codeblock.textContent);
                copyingDone();
                return;
            }

            const range = document.createRange();
            range.selectNodeContents(codeblock);
            const selection = window.getSelection();
            selection.removeAllRanges();
            selection.addRange(range);
            try {
                document.execCommand('copy');
                copyingDone();
            } catch (e) { };
            selection.removeRange(range);
        });

        if (container.classList.contains("highlight")) {
            container.appendChild(copybutton);
        } else if (container.parentNode.firstChild == container) {
            
        } else if (codeblock.parentNode.parentNode.parentNode.parentNode.parentNode.nodeName == "TABLE") {
            
            codeblock.parentNode.parentNode.parentNode.parentNode.parentNode.appendChild(copybutton);
        } else {
            
            codeblock.parentNode.appendChild(copybutton);
        }
    });
</script>
</body>

</html>
